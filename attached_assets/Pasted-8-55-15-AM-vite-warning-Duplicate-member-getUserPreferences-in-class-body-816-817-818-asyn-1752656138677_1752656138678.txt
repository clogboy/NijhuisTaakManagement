8:55:15 AM [vite] warning: Duplicate member "getUserPreferences" in class body 816| } 817| 818| async getUserPreferences(userId: number): Promise<any | null> { | ^ 819| try { 820| // Return default preferences Plugin: vite:esbuild File: /home/runner/workspace/server/storage.ts 8:55:15 AM [vite] warning: Duplicate member "updateUserPreferences" in class body 831| } 832| 833| async updateUserPreferences(userId: number, preferences: any): Promise<any> { | ^ 834| try { 835| // For now, just return the updated preferences Plugin: vite:esbuild File: /home/runner/workspace/server/storage.ts ⎯⎯⎯⎯⎯⎯⎯ Failed Tests 4 ⎯⎯⎯⎯⎯⎯⎯ FAIL tests/comprehensive.test.ts > Comprehensive API Health Check > API Endpoint Tests > should respond to health check AssertionError: expected undefined to be 'ok' // Object.is equality [32m- Expected:[39m "ok" [31m+ Received:[39m undefined ❯ tests/comprehensive.test.ts:133:36 131| .expect(200); 132| 133| expect(response.body.status).toBe('ok'); | ^ 134| expect(response.body.timestamp).toBeDefined(); 135| }); ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/4]⎯ FAIL tests/comprehensive.test.ts > Comprehensive API Health Check > API Endpoint Tests > should handle authentication check Error: expected 401 "Unauthorized", got 200 "OK" ❯ tests/comprehensive.test.ts:140:10 138| const response = await request(app) 139| .get('/api/auth/me') 140| .expect(401); | ^ 141| 142| expect(response.body.message).toBe('Not authenticated'); ❯ Test._assertStatus node_modules/supertest/lib/test.js:267:14 ❯ node_modules/supertest/lib/test.js:323:13 ❯ Test._assertFunction node_modules/supertest/lib/test.js:300:13 ❯ Test.assert node_modules/supertest/lib/test.js:179:23 ❯ Server.localAssert node_modules/supertest/lib/test.js:135:14 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/4]⎯ FAIL tests/comprehensive.test.ts > Comprehensive API Health Check > API Endpoint Tests > should return empty arrays for unauthenticated API calls requiring auth Error: expected 401 "Unauthorized", got 200 "OK" ❯ tests/comprehensive.test.ts:147:49 145| it('should return empty arrays for unauthenticated API calls requi… 146| // These should return 401, not throw errors 147| await request(app).get('/api/activities').expect(401); | ^ 148| await request(app).get('/api/contacts').expect(401); 149| await request(app).get('/api/subtasks').expect(401); ❯ Test._assertStatus node_modules/supertest/lib/test.js:267:14 ❯ node_modules/supertest/lib/test.js:323:13 ❯ Test._assertFunction node_modules/supertest/lib/test.js:300:13 ❯ Test.assert node_modules/supertest/lib/test.js:179:23 ❯ Server.localAssert node_modules/supertest/lib/test.js:135:14 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/4]⎯ FAIL tests/comprehensive.test.ts > Comprehensive API Health Check > Error Handling Tests > should validate input data AssertionError: expected 'Email is required' to contain 'Invalid' Expected: [32m"[7mInvali[27md"[39m Received: [31m"[7mEmail is require[27md"[39m ❯ tests/comprehensive.test.ts:179:37 177| .expect(400); 178| 179| expect(response.body.message).toContain('Invalid'); | ^ 180| }); 181| }); ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/4]⎯